{%- comment -%}
  Quiz ID Mapping Snippet
  Centralized mapping of questionnaire types to Quiz IDs
  Update the Quiz IDs below after creating quizzes in RevenueHunt v2
{%- endcomment -%}

{%- comment -%}
  QUIZ ID MAPPING
  Replace the placeholder values below with your actual Quiz IDs from RevenueHunt v2
  Example: If your General Health quiz ID is "ABC123XYZ", replace 'GENERAL_HEALTH_QUIZ_ID' with 'ABC123XYZ'
{%- endcomment -%}

{%- assign QUIZ_GENERAL_HEALTH = 'NDJUh0' -%}
{%- assign QUIZ_MENTAL_HEALTH = 'z1cgu7' -%}
{%- assign QUIZ_ED = 'x3D3eJ' -%}
{%- assign QUIZ_LOW_LIBIDO = 'jFbky2' -%}
{%- assign QUIZ_PE = 'KtsajY' -%}
{%- assign QUIZ_LOW_TESTOSTERONE = '6GwN3l' -%}
{%- assign QUIZ_WEIGHT_MANAGEMENT = 'awZXDP' -%}
{%- assign QUIZ_MENOPAUSE_HRT = 'rHL2qe' -%}
{%- assign QUIZ_HAIR_LOSS = 'q56fWm' -%}
{%- assign QUIZ_DEFAULT = QUIZ_GENERAL_HEALTH -%} {%- comment -%} Fallback/default quiz ID {%- endcomment -%}

{%- comment -%}
  Function to get quiz ID based on product
  Usage: {% render 'quiz-id-mapping', product: product %}
  Returns: quizId variable
{%- endcomment -%}

{%- assign quizId = product.metafields.sxrx.quiz_id.value | default: product.metafields.sxrx.quiz_id -%}
{%- assign tags_str = product.tags | join: ',' | downcase -%}

{%- if quizId == blank -%}
  {%- if tags_str contains 'questionnaire-general-health' -%}
    {%- assign quizId = QUIZ_GENERAL_HEALTH -%}
  {%- elsif tags_str contains 'questionnaire-mental-health' -%}
    {%- assign quizId = QUIZ_MENTAL_HEALTH -%}
  {%- elsif tags_str contains 'questionnaire-erectile-dysfunction' or tags_str contains 'questionnaire-ed' -%}
    {%- assign quizId = QUIZ_ED -%}
  {%- elsif tags_str contains 'questionnaire-low-libido' -%}
    {%- assign quizId = QUIZ_LOW_LIBIDO -%}
  {%- elsif tags_str contains 'questionnaire-premature-ejaculation' or tags_str contains 'questionnaire-pe' -%}
    {%- assign quizId = QUIZ_PE -%}
  {%- elsif tags_str contains 'questionnaire-low-testosterone' or tags_str contains 'questionnaire-trt' -%}
    {%- assign quizId = QUIZ_LOW_TESTOSTERONE -%}
  {%- elsif tags_str contains 'questionnaire-weight-management' or tags_str contains 'questionnaire-glp1' -%}
    {%- assign quizId = QUIZ_WEIGHT_MANAGEMENT -%}
  {%- elsif tags_str contains 'questionnaire-menopause' or tags_str contains 'questionnaire-hrt' -%}
    {%- assign quizId = QUIZ_MENOPAUSE_HRT -%}
  {%- elsif tags_str contains 'questionnaire-hair-loss' -%}
    {%- assign quizId = QUIZ_HAIR_LOSS -%}
  {%- else -%}
    {%- assign quizId = QUIZ_DEFAULT -%}
  {%- endif -%}
{%- endif -%}

{{- quizId -}}
